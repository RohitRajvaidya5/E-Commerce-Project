{% extends "base.html" %}
{% load static %}

{% block title %}Products{% endblock %}

{% block content %}

{% if products %}
<div class="max-w-7xl mx-auto px-6 py-12">

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">

    {% for product in products %}
    <div class="bg-white border rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden">

      <!-- PRODUCT IMAGE -->
      <a href="{% url 'product_detail' product.id %}">
        <div class="h-56 bg-gray-50 flex items-center justify-center overflow-hidden">
          {% if product.image %}
            <img src="{{ product.image.url }}" class="h-full w-full object-cover" />
          {% else %}
            <span class="text-gray-400">No Image</span>
          {% endif %}
        </div>
      </a>

      <!-- PRODUCT INFO -->
      <div class="p-5">

        <a href="{% url 'product_detail' product.id %}">
          <h2 class="text-lg font-semibold text-gray-900 hover:text-gray-700">{{ product.name }}</h2>
        </a>

        <p class="text-sm text-gray-600 mt-1 line-clamp-2">
          {{ product.description|truncatewords:15 }}
        </p>

        <!-- PRICE -->
        <div class="mt-3">
          <p class="text-xl font-bold text-gray-900">â‚¹{{ product.price }}</p>
        </div>

        <!-- CATEGORY -->
        <div class="mt-2 inline-block bg-yellow-200 text-yellow-800 px-3 py-1 text-xs rounded-full">
          {{ product.category }}
        </div>

        <!-- BUTTON -->
        <div class="mt-5">
          <a
            href="{% url 'add_to_cart' product.id %}"
            class="w-full block text-center bg-black text-white py-2 rounded-lg hover:bg-gray-800 transition"
          >
            Add to Cart
          </a>
        </div>

      </div>
    </div>
    {% endfor %}
  </div>

</div>

{% else %}
<p class="text-center mt-10 text-gray-500">No products available.</p>
{% endif %}

{% endblock %}
