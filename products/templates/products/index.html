{% extends "base.html" %}
{% load static %}

{% block title %}Products{% endblock %}

{% block content %}

{% if products %}
<div
  class="hero h-64"
  style="background-image: url(https://images.unsplash.com/photo-1611117775350-ac3950990985?q=80&w=2071&auto=format&fit=crop);"
>
  <div class="hero-overlay"></div>
  <div class="hero-content text-neutral-content text-center">
    <div class="max-w-md">
      <h1 class="mb-1 text-4xl font-bold">Welcome, Let's Shop</h1>
    </div>
  </div>
</div>

<div class="max-w-7xl mx-auto px-6 py-12">

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">

    {% for product in products %}
    <div class="border border-gray-300 rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden">

      <!-- PRODUCT IMAGE -->
      <a href="{% url 'product_detail' product.id %}" class="link-with-loader">
        <div class="h-56 flex items-center justify-center overflow-hidden">
          {% if product.image %}
            <img src="{{ product.image.url }}" class="h-full w-full object-cover" />
          {% else %}
            <span class="text-gray-400">No Image</span>
          {% endif %}
        </div>
      </a>

      <!-- PRODUCT INFO -->
      <div class="p-5">

        <a href="{% url 'product_detail' product.id %}" class="link-with-loader">
          <h2 class="text-lg font-semibold text-gray-900 hover:text-gray-700">
            {{ product.name }}
          </h2>
        </a>

        <p class="text-sm text-gray-600 mt-1 line-clamp-2">
          {{ product.description|truncatewords:15 }}
        </p>

        <!-- PRICE -->
        <div class="mt-3">
          <p class="text-xl font-bold text-gray-900">â‚¹{{ product.price }}</p>
        </div>

        <!-- CATEGORY -->
        <div class="mt-2 inline-block bg-yellow-200 text-yellow-800 px-3 py-1 text-xs rounded-full">
          {{ product.category }}
        </div>

      </div>
    </div>
    {% endfor %}

  </div>

</div>

{% else %}
<p class="text-center mt-10 text-gray-500">No products available.</p>
{% endif %}

{% endblock %}
