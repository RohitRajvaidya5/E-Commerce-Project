{% extends "base.html" %}
{% block content %}

<div class="max-w-md mx-auto mt-12 bg-base-100 text-base-content p-8 rounded-2xl shadow-lg border border-base-300">

  <!-- Title -->
  <h2 class="text-3xl font-extrabold text-center mb-2 brand-gradient">
    Create Your Account
  </h2>
  <p class="text-center text-sm opacity-70 mb-6">
    Join us and start your journey with Printora.
  </p>

  <!-- Loader (invisible by default) -->
  <div id="loaderBox" class="flex flex-col items-center mt-4 invisible">
      <span class="loading loading-spinner loading-lg"></span>
      <p class="mt-3 text-base">Creating your account...</p>
  </div>

  <!-- Form -->
  <form id="registerForm" method="POST" class="space-y-5">
    {% csrf_token %}

    <div class="space-y-4 form-control">
      {{ form.as_p }}
    </div>

    <button class="btn btn-primary w-full text-base font-semibold" type="submit">
      Create Account
    </button>
  </form>

  <!-- Divider -->
  <div class="divider my-6">OR</div>

  <!-- Login Link -->
  <p class="text-center text-sm">
    Already have an account?
    <a href="{% url 'login' %}" class="link link-primary font-medium">
      Login here
    </a>
  </p>

</div>

<!-- Loader Script -->
<script>
  const registerForm = document.getElementById("registerForm");
  const loader = document.getElementById("loaderBox");

  registerForm.addEventListener("submit", () => {
      registerForm.classList.add("invisible");      // hide form
      loader.classList.remove("invisible");         // show loader
  });
</script>

{% endblock %}
